/* Rich Text Editor Wrapper Styles */
.rich-text-editor {
  /* Use relative positioning for any absolute elements inside, e.g., error messages */
  position: relative; 
}

/* TinyMCE Main Container */
.rich-text-editor .tox.tox-tinymce {
  border-radius: 0.375rem; /* Matches your Quill border-radius */
  border: 1px solid #d1d5db;
}

/* TinyMCE Toolbar Container */
.rich-text-editor .tox .tox-toolbar-overlord {
  border-bottom: 1px solid #d1d5db;
  border-radius: 0.375rem 0.375rem 0 0;
  background-color: #f9fafb; /* Matches your Quill toolbar background */
}

/* TinyMCE Editor Content Area (where text is typed) */
/* TinyMCE uses an iframe for the content, so styling the text content
   requires setting a custom body_class in the component's init config. */
/* The iframe element itself */
.rich-text-editor .tox .tox-edit-area iframe {
    /* Set min-height to replicate the Quill minHeight functionality */
    min-height: 150px; 
}

/* Focus states (TinyMCE uses a subtle box-shadow for focus) */
.rich-text-editor .tox.tox-tinymce--focus {
  border-color: #3b82f6;
  box-shadow: 0 0 0 1px #3b82f6;
}

/* Toolbar button styles (TinyMCE uses .tox-tbtn for buttons) */
.rich-text-editor .tox .tox-tbtn {
  border-radius: 0.25rem;
  margin: 0 2px; /* Adjusted margin */
}

.rich-text-editor .tox .tox-tbtn:hover {
  background-color: #e5e7eb;
}

.rich-text-editor .tox .tox-tbtn--enabled,
.rich-text-editor .tox .tox-tbtn--enabled:hover {
  background-color: #dbeafe;
  color: #3b82f6;
}

/* --- State Styles --- */

/* Error state */
.rich-text-editor.error .tox.tox-tinymce {
  border-color: #ef4444 !important;
}

.rich-text-editor.error .tox.tox-tinymce--focus {
  border-color: #ef4444 !important;
  box-shadow: 0 0 0 1px #ef4444 !important;
}

/* Disabled state */
.rich-text-editor.disabled .tox.tox-tinymce {
  /* TinyMCE handles its own disabled state appearance, 
     but we enforce the wrapper styles for consistency */
  opacity: 0.6;
  pointer-events: none;
}

/* --- Dark Mode Styles --- */

.dark .rich-text-editor .tox.tox-tinymce {
  border-color: #374151;
}

.dark .rich-text-editor .tox .tox-toolbar-overlord {
  border-color: #374151;
  background-color: #1f2937;
}

.dark .rich-text-editor .tox .tox-tbtn:hover {
  background-color: #374151;
}

.dark .rich-text-editor .tox .tox-tbtn--enabled,
.dark .rich-text-editor .tox .tox-tbtn--enabled:hover {
  background-color: #1e40af;
}

/* The actual dark mode colors for the content are applied via TinyMCE's 'skin' and 'content_css' options */